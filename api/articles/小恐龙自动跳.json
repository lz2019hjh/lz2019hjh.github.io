{"title":"小恐龙自动跳","uid":"ea79591252cabd2deb769f15fe5647b2","slug":"小恐龙自动跳","date":"2020-05-16T16:00:00.000Z","updated":"2021-04-30T13:08:35.384Z","comments":true,"path":"api/articles/小恐龙自动跳.json","keywords":null,"cover":null,"content":"<blockquote>\n<p>废话不多说，直接上代码</p>\n</blockquote>\n<pre class=\"line-numbers language-js\" data-language=\"js\"><code class=\"language-js\"><span class=\"token keyword\">function</span> <span class=\"token function\">TrexRunnerBot</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">makeKeyArgs</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">keyCode</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=&gt;</span> <span class=\"token punctuation\">{</span>\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">preventDefault</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=&gt;</span> <span class=\"token keyword\">void</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">return</span> <span class=\"token punctuation\">{</span>keyCode<span class=\"token punctuation\">,</span> preventDefault<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> upKeyArgs <span class=\"token operator\">=</span> <span class=\"token function\">makeKeyArgs</span><span class=\"token punctuation\">(</span><span class=\"token number\">38</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> downKeyArgs <span class=\"token operator\">=</span> <span class=\"token function\">makeKeyArgs</span><span class=\"token punctuation\">(</span><span class=\"token number\">40</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> startArgs <span class=\"token operator\">=</span> <span class=\"token function\">makeKeyArgs</span><span class=\"token punctuation\">(</span><span class=\"token number\">32</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span><span class=\"token function\">Runner</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>playing<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n<span class=\"token function\">Runner</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">onKeyDown</span><span class=\"token punctuation\">(</span>startArgs<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token function\">setTimeout</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=&gt;</span> <span class=\"token punctuation\">{</span>\n<span class=\"token function\">Runner</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">onKeyUp</span><span class=\"token punctuation\">(</span>startArgs<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token number\">500</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">conquerTheGame</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>Runner <span class=\"token operator\">||</span> <span class=\"token operator\">!</span><span class=\"token function\">Runner</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>horizon<span class=\"token punctuation\">.</span>obstacles<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">return</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> obstacle <span class=\"token operator\">=</span> <span class=\"token function\">Runner</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>horizon<span class=\"token punctuation\">.</span>obstacles<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>obstacle<span class=\"token punctuation\">.</span>typeConfig <span class=\"token operator\">&amp;&amp;</span> obstacle<span class=\"token punctuation\">.</span>typeConfig<span class=\"token punctuation\">.</span>type <span class=\"token operator\">===</span> <span class=\"token string\">'SNACK'</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">return</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token function\">needsToTackle</span><span class=\"token punctuation\">(</span>obstacle<span class=\"token punctuation\">)</span> <span class=\"token operator\">&amp;&amp;</span> <span class=\"token function\">closeEnoughToTackle</span><span class=\"token punctuation\">(</span>obstacle<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token function\">tackle</span><span class=\"token punctuation\">(</span>obstacle<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">needsToTackle</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">obstacle</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n<span class=\"token keyword\">return</span> obstacle<span class=\"token punctuation\">.</span>yPos <span class=\"token operator\">!==</span> <span class=\"token number\">50</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">closeEnoughToTackle</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">obstacle</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n<span class=\"token keyword\">return</span> obstacle<span class=\"token punctuation\">.</span>xPos <span class=\"token operator\">&lt;=</span> <span class=\"token function\">Runner</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>currentSpeed <span class=\"token operator\">*</span> <span class=\"token number\">18</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">tackle</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">obstacle</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token function\">isDuckable</span><span class=\"token punctuation\">(</span>obstacle<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n<span class=\"token function\">duck</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n<span class=\"token function\">jumpOver</span><span class=\"token punctuation\">(</span>obstacle<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">isDuckable</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">obstacle</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n<span class=\"token keyword\">return</span> obstacle<span class=\"token punctuation\">.</span>yPos <span class=\"token operator\">===</span> <span class=\"token number\">50</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">duck</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n<span class=\"token function\">Runner</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">onKeyDown</span><span class=\"token punctuation\">(</span>downKeyArgs<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token function\">setTimeout</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=&gt;</span> <span class=\"token punctuation\">{</span>\n<span class=\"token function\">Runner</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">onKeyUp</span><span class=\"token punctuation\">(</span>downKeyArgs<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token number\">500</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">jumpOver</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">obstacle</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token function\">isNextObstacleCloseTo</span><span class=\"token punctuation\">(</span>obstacle<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n<span class=\"token function\">jumpFast</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">else</span>\n<span class=\"token function\">Runner</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">onKeyDown</span><span class=\"token punctuation\">(</span>upKeyArgs<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">isNextObstacleCloseTo</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">currentObstacle</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n<span class=\"token keyword\">const</span> nextObstacle <span class=\"token operator\">=</span> <span class=\"token function\">Runner</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>horizon<span class=\"token punctuation\">.</span>obstacles<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">return</span> nextObstacle <span class=\"token operator\">&amp;&amp;</span> nextObstacle<span class=\"token punctuation\">.</span>xPos <span class=\"token operator\">-</span> currentObstacle<span class=\"token punctuation\">.</span>xPos <span class=\"token operator\">&lt;=</span> <span class=\"token function\">Runner</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>currentSpeed <span class=\"token operator\">*</span> <span class=\"token number\">42</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">jumpFast</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n<span class=\"token function\">Runner</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">onKeyDown</span><span class=\"token punctuation\">(</span>upKeyArgs<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token function\">Runner</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">onKeyUp</span><span class=\"token punctuation\">(</span>upKeyArgs<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">return</span> <span class=\"token punctuation\">{</span>conquerTheGame<span class=\"token operator\">:</span> conquerTheGame<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">let</span> bot <span class=\"token operator\">=</span> <span class=\"token function\">TrexRunnerBot</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">let</span> botInterval <span class=\"token operator\">=</span> <span class=\"token function\">setInterval</span><span class=\"token punctuation\">(</span>bot<span class=\"token punctuation\">.</span>conquerTheGame<span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n","feature":null,"text":" 废话不多说，直接上代码 function TrexRunnerBot() { const makeKeyArgs = (keyCode) =&gt; { const preventDefault = () =&gt; void 0; return {keyCode, preve...","link":"","photos":[],"count_time":{"symbolsCount":"1.7k","symbolsTime":"2 mins."},"categories":[],"tags":[{"name":"chrome","slug":"chrome","count":1,"path":"api/tags/chrome.json"}],"toc":"","author":{"name":"lz2019hjh","slug":"blog-author","avatar":"https://tva1.sinaimg.cn/large/008i3skNly1gq23xr7x0kj308i08itbg.jpg","link":"/","description":"这是胡锦浩的博客","socials":{"github":"https://github.com/lz2019hjh","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"mapped":true,"prev_post":{"title":"vmware安装ubuntu","uid":"739710610d606ac378ad2f98579da6a4","slug":"vmware安装ubuntu","date":"2020-08-07T16:00:00.000Z","updated":"2021-04-30T13:08:35.384Z","comments":true,"path":"api/articles/vmware安装ubuntu.json","keywords":null,"cover":[],"text":"如果是一个合格的电脑作死玩家，就一定要会使用虚拟机进行进一步作死一些日常工作。 之前已经介绍过如何用vmware安装windows10，于是为了尝试一下linux，我进行了进一步作死 然后作为一个菜鸡，只能玩玩入门级的ubuntu linux了 材料准备 一台装有vmware的m...","link":"","photos":[],"count_time":{"symbolsCount":"1.3k","symbolsTime":"1 mins."},"categories":[],"tags":[{"name":"linux","slug":"linux","count":2,"path":"api/tags/linux.json"},{"name":"ubuntu","slug":"ubuntu","count":2,"path":"api/tags/ubuntu.json"},{"name":"虚拟机","slug":"虚拟机","count":2,"path":"api/tags/虚拟机.json"}],"author":{"name":"lz2019hjh","slug":"blog-author","avatar":"https://tva1.sinaimg.cn/large/008i3skNly1gq23xr7x0kj308i08itbg.jpg","link":"/","description":"这是胡锦浩的博客","socials":{"github":"https://github.com/lz2019hjh","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}}},"next_post":{"title":"我眼中的丽泽","uid":"4c372faf856b44197c1ff7a37e0f75a8","slug":"我眼中的丽泽","date":"2020-05-01T16:00:00.000Z","updated":"2021-04-30T13:13:50.542Z","comments":true,"path":"api/articles/我眼中的丽泽.json","keywords":null,"cover":[],"text":"我眼中的丽泽 目录 美丽的校园 丰富的校园生活 超好的老师 最后 Beautiful school丽泽书院,坐落在湖海塘畔,目前在金一中内上课,下面是一段来自我们学校同学对我们学校的描写 The school is so attractive that I like it so ...","link":"","photos":[],"count_time":{"symbolsCount":"1.1k","symbolsTime":"1 mins."},"categories":[],"tags":[{"name":"作业","slug":"作业","count":1,"path":"api/tags/作业.json"}],"author":{"name":"lz2019hjh","slug":"blog-author","avatar":"https://tva1.sinaimg.cn/large/008i3skNly1gq23xr7x0kj308i08itbg.jpg","link":"/","description":"这是胡锦浩的博客","socials":{"github":"https://github.com/lz2019hjh","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}}}}